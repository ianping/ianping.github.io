import{_ as s,c as a,b as t,o as n}from"./app-DsGHT65_.js";const h={};function l(e,i){return n(),a("div",null,i[0]||(i[0]=[t(`<p>参考：<a href="https://www.oracle.com/java/technologies/javase/jdk-relnotes-index.html" target="_blank" rel="noopener noreferrer">Oracle JDK Release Notes</a></p><h2 id="_8" tabindex="-1"><a class="header-anchor" href="#_8"><span>8</span></a></h2><h3 id="接口中的默认方法和静态方法" tabindex="-1"><a class="header-anchor" href="#接口中的默认方法和静态方法"><span>接口中的默认方法和静态方法</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> MyInterface</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> bar</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    default</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> defaultMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> staticMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数式接口" tabindex="-1"><a class="header-anchor" href="#函数式接口"><span>函数式接口</span></a></h3><p>函数式接口表示有且仅有1个抽象方法的接口。</p><p>注意，<code>java.lang.Object</code>中的方法不计入数量。可以存在非抽象的default方法或static方法。</p><p>函数式接口用于接收Lambda表达式和方法引用。</p><p>定义函数式接口时，推荐用<code>@FunctionalInterface</code>注解进行标注</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">FunctionalInterface</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> CustomFunctionalInterface</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>java.util.function</code>包中预定义了许多函数是接口，常见的几个如下：</p><table><thead><tr><th>函数式接口</th><th>函数签名</th></tr></thead><tbody><tr><td><code>Predicate&lt;T&gt;</code></td><td><code>T -&gt; boolean</code></td></tr><tr><td><code>BiPredicate&lt;T, U&gt;</code></td><td><code>(T, U) -&gt; boolean</code></td></tr><tr><td><code>Consumer&lt;T&gt;</code></td><td><code>T -&gt; void</code></td></tr><tr><td><code>BiConsumer&lt;T, U&gt;</code></td><td>(T, U) -&gt; void</td></tr><tr><td><code>Supplier&lt;T&gt;</code></td><td><code>() -&gt; T</code></td></tr><tr><td><code>Function&lt;T, R&gt;</code></td><td><code>T -&gt; R</code></td></tr><tr><td><code>BiFunction&lt;T, U, R&gt;</code></td><td><code>(T, U) -&gt; R</code></td></tr></tbody></table><p>还有一些老版本的API接口，在Java8中，也被声明成了函数式接口，常见的几个如下：</p><table><thead><tr><th>函数式接口</th><th>函数签名</th></tr></thead><tbody><tr><td><code>java.lang.Runnable</code></td><td><code>() -&gt; void</code></td></tr><tr><td><code>java.util.concurrent.Callable&lt;V&gt;</code></td><td><code>() -&gt; V</code></td></tr><tr><td><code>java.util.Comparator&lt;T&gt;</code></td><td><code>(T, T) -&gt; int</code></td></tr></tbody></table><h3 id="lambda表达式" tabindex="-1"><a class="header-anchor" href="#lambda表达式"><span>Lambda表达式</span></a></h3><p>Lambda表达式有2种语法风格：</p><ol><li><p>表达式风格</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span>(parameters) -&gt; expression</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>块风格</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span>(parameters) -&gt; { statements }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><p>Lambda表达式可以使用函数式接口接收，有效的Lambda表达式示例：</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Function</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> function </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Predicate</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> predicate </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">BiConsumer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> biConsumer </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> System</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Supplier</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> supplier </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Comparator</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> comparator </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;"> Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">compareTo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Lambda表达式中，允许使用自由变量(定义在外层作用域的变量)。但是，不允许在Lambda中修改自由局部变量，推荐将其声明为final变量。</p><p>不推荐的写法</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">  a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">    Consumer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> function </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 修改实例变量(静态变量), OK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        b </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 修改外层方法参数, 报错</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        c </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 修改外层局部变量, 报错</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>推荐的写法，将自由局部变量声明为final</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">  a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">final</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">    final</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">    Consumer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> function </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">        a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 实例变量(静态变量), 允许修改</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方法引用和构造函数引用" tabindex="-1"><a class="header-anchor" href="#方法引用和构造函数引用"><span>方法引用和构造函数引用</span></a></h3><h4 id="方法引用" tabindex="-1"><a class="header-anchor" href="#方法引用"><span>方法引用</span></a></h4><p>方法引用是Lambda表达式的快捷写法，如果1个Lambda表达式仅仅是调用目标的某个方法，就可以使用方法引用进行替换。</p><p>方法引用主要有3类</p><table><thead><tr><th>方法引用</th><th>等价的Lambda表达式</th><th>说明</th></tr></thead><tbody><tr><td><code>ClassName::staticMethod</code></td><td><code>(args) -&gt; ClassName.staticMethod(args)</code></td><td>调用静态方法</td></tr><tr><td><code>ClassName::instanceMethod</code></td><td><code>(instance, args) -&gt; instance.instanceMethod(args)</code></td><td>instance是ClassName类型</td></tr><tr><td><code>obj::instanceMethod</code></td><td><code>(args) -&gt; obj.instanceMethod(args)</code></td><td>obj是已存在的对象</td></tr></tbody></table><h4 id="构造函数引用" tabindex="-1"><a class="header-anchor" href="#构造函数引用"><span>构造函数引用</span></a></h4><p>构造函数引用语法为：<code>ClassName::new</code>。</p><p>示例：</p><table><thead><tr><th>构造函数签名</th><th>构造函数引用</th><th>等价的Lambda表达式</th></tr></thead><tbody><tr><td><code>ClassName()</code></td><td><code>ClassName::new</code></td><td><code>() -&gt; new ClassName()</code></td></tr><tr><td><code>ClassName(T, U)</code></td><td><code>ClassName::new</code></td><td><code>(t, u) -&gt; new ClassName(t, u)</code></td></tr><tr><td><code>ClassName(T, U, V)</code></td><td><code>ClassName::new</code></td><td><code>(t, u, v) -&gt; new ClassName(t, u, v)</code></td></tr></tbody></table><h3 id="stream-api" tabindex="-1"><a class="header-anchor" href="#stream-api"><span>Stream API</span></a></h3><h4 id="中间操作" tabindex="-1"><a class="header-anchor" href="#中间操作"><span>中间操作</span></a></h4><ul><li><p>过滤</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>去重</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">distinct</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>限制元素个数</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">limit</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>跳过前n个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">skip</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>映射</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>流的扁平化</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> words </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Arrays</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">asList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">hello</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">world</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">List</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> words</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">word </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> word</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Arrays</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">    .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Collectors</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">System</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // [h, e, l, l, o, w, o, r, l, d]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="终端操作" tabindex="-1"><a class="header-anchor" href="#终端操作"><span>终端操作</span></a></h4><ul><li><p>遍历</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">System</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">out</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>计数</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">long</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>获取第一个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">findFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">orElse</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>获取任意一个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">findAny</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">orElse</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>匹配任意一个元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">anyMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>匹配全部元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">allMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>不匹配全部元素</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">noneMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">num </span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>归约</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 求和</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 初始值0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> // 无初始值</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="数值流" tabindex="-1"><a class="header-anchor" href="#数值流"><span>数值流</span></a></h4><ul><li><p>普通流转换为数值流</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">IntStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> intStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">DoubleStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> doubleStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToDouble</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">LongStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> longStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToLong</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>数值流转换为普通流</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Integerstream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> intStream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">boxed</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>生成数值范围流</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">IntStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> intRangeStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> IntStream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">              // [1, 10)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">IntStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> intRangeClosedStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> IntStream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">rangeClosed</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">  // [1, 10]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">LongStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> longRangeStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> LongStream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">LongStream</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> longRangeClosedStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> LongStream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">rangeClosed</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>数值流常见操作</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">OptionalInt</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">min</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">OptionalInt</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">sum</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">OptionalDouble</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">average</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">[]</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> nums</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">mapToInt</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">Integer</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">sorted</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">toArray</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="optional类" tabindex="-1"><a class="header-anchor" href="#optional类"><span><code>Optional</code>类</span></a></h3><p>声明<code>Optional</code></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 值为null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">empty</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 值非null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 值可以为null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> Optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">ofNullable</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>提取Optional中的值</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 如果值为null, 抛出异常NoSuchElementException</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 如果值为null, 返回默认值</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">orElse</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#89DDFF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">// 如果值为null, 抛出自定义异常</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#C792EA;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> optional</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">orElseThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(()</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;"> -&gt;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> RuntimeException</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">值为null</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#89DDFF;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意，<code>Optional&lt;T&gt;</code>设计的初衷，仅仅是为了支持方法返回<code>Optional</code>对象的语法，不建议在domain类中将实例变量定义为<code>Optional</code>类型，因为它不支持序列化。</p><h3 id="新日期时间api" tabindex="-1"><a class="header-anchor" href="#新日期时间api"><span>新日期时间API</span></a></h3><p><em>java.time</em>包</p><h3 id="并行数组操作api" tabindex="-1"><a class="header-anchor" href="#并行数组操作api"><span>并行数组操作API</span></a></h3><h2 id="_9" tabindex="-1"><a class="header-anchor" href="#_9"><span>9</span></a></h2><h3 id="模块化系统" tabindex="-1"><a class="header-anchor" href="#模块化系统"><span>模块化系统</span></a></h3><div class="hint-container tip"><p class="hint-container-title">参考</p><ul><li>https://www.oracle.com/corporate/features/understanding-java-9-modules.html</li></ul></div><p>查看模块列表</p><p><code>java --list-modules</code></p><h3 id="jshell" tabindex="-1"><a class="header-anchor" href="#jshell"><span>JShell</span></a></h3><h3 id="接口中的私有默认方法和私有静态方法" tabindex="-1"><a class="header-anchor" href="#接口中的私有默认方法和私有静态方法"><span>接口中的私有默认方法和私有静态方法</span></a></h3><h2 id="_10" tabindex="-1"><a class="header-anchor" href="#_10"><span>10</span></a></h2><h3 id="本地变量类型推断" tabindex="-1"><a class="header-anchor" href="#本地变量类型推断"><span>本地变量类型推断</span></a></h3><div class="hint-container tip"><p class="hint-container-title">参考</p><ul><li>https://developer.oracle.com/zh/learn/technical-articles/jdk-10-local-variable-type-inference</li></ul></div><h2 id="_11" tabindex="-1"><a class="header-anchor" href="#_11"><span>11</span></a></h2><h3 id="新的http和websocket客户端api" tabindex="-1"><a class="header-anchor" href="#新的http和websocket客户端api"><span>新的HTTP和WebSocket客户端API</span></a></h3><h2 id="_12" tabindex="-1"><a class="header-anchor" href="#_12"><span>12</span></a></h2><h2 id="_13" tabindex="-1"><a class="header-anchor" href="#_13"><span>13</span></a></h2><h2 id="_14" tabindex="-1"><a class="header-anchor" href="#_14"><span>14</span></a></h2><h2 id="_15" tabindex="-1"><a class="header-anchor" href="#_15"><span>15</span></a></h2><h2 id="_16" tabindex="-1"><a class="header-anchor" href="#_16"><span>16</span></a></h2><h2 id="_17" tabindex="-1"><a class="header-anchor" href="#_17"><span>17</span></a></h2><h2 id="_18" tabindex="-1"><a class="header-anchor" href="#_18"><span>18</span></a></h2><h2 id="_19" tabindex="-1"><a class="header-anchor" href="#_19"><span>19</span></a></h2><h2 id="_20" tabindex="-1"><a class="header-anchor" href="#_20"><span>20</span></a></h2><h2 id="_21" tabindex="-1"><a class="header-anchor" href="#_21"><span>21</span></a></h2>`,71)]))}const p=s(h,[["render",l],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/notes/java/g96maqvk/","title":"Java新特性总结","lang":"zh-CN","frontmatter":{"title":"Java新特性总结","createTime":"2024/11/24 15:56:15","permalink":"/notes/java/g96maqvk/"},"headers":[],"readingTime":{"minutes":4.35,"words":1304},"git":{"updatedTime":1733057441000,"contributors":[{"name":"ianping","email":"13520322212@163.com","commits":2,"avatar":"https://avatars.githubusercontent.com/ianping?v=4","url":"https://github.com/ianping"}]},"filePathRelative":"notes/java/1.Java基础/Java新特性总结.md","bulletin":false}');export{p as comp,d as data};

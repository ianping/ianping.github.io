import{_ as e,c as i,b as a,o as n}from"./app-DsGHT65_.js";const d={};function p(l,s){return n(),i("div",null,s[0]||(s[0]=[a(`<h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装Redis</span></a></h2><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><p>Redis官方没有提供Windows安装包，可以选择以下2种方式：</p><ol><li><p>microsoft提供的Redis的Windows版本</p><p>项目地址：https://github.com/microsoftarchive/redis/releases</p></li><li><p>使用WSL进行安装（推荐）</p></li></ol><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h3><p>安装依赖软件：<code>sudo apt install lsb-release curl gpg</code></p><p>执行以下命令</p><div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> https://packages.redis.io/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> gpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> --dearmor</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /usr/share/keyrings/redis-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> main</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /etc/apt/sources.list.d/redis.list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>操作redis服务</p><p><code>/etc/init.d/redis-server start|stop|restart|force-reload|status</code></p><h3 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h3><blockquote><p>docker hub地址：https://hub.docker.com/_/redis</p></blockquote><p>1.拉取镜像</p><p><code>docker pull redis:7.2.4</code></p><p>修改标签名</p><p><code>docker tag redis:7.2.4 redis:7 &amp;&amp; docker rmi redis:7.2.4</code></p><p>2.创建容器</p><p>2.1 准备redis配置文件、数据目录</p><p><code>mkdir -p /docker/redis7/conf</code></p><p><code>touch /docker/redis7/conf/redis.conf</code></p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span># redis完整配置参考 https://redis.io/docs/management/config/</span></span>
<span class="line"><span># bind 192.168.1.100 10.0.0.1     # listens on two specific IPv4 addresses</span></span>
<span class="line"><span># bind 127.0.0.1 ::1              # listens on loopback IPv4 and IPv6</span></span>
<span class="line"><span># bind * -::*                     # like the default, all available interfaces</span></span>
<span class="line"><span></span></span>
<span class="line"><span># protected-mode yes</span></span>
<span class="line"><span># requirepass foobared</span></span>
<span class="line"><span></span></span>
<span class="line"><span>port 6379</span></span>
<span class="line"><span></span></span>
<span class="line"><span># dir /data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>mkdir /docker/redis7/data</code></p><p>2.2 创建容器</p><p><code>docker create --name redis7 -p 6379:6379 -v /docker/redis7/conf:/usr/local/etc/redis -v /docker/redis7/data:/data redis:7 redis-server /usr/local/etc/redis/redis.conf</code></p><p>参数说明：</p><ul><li><code>-p 6379:6379</code>：端口映射</li><li><code>-v /docker/redis7/conf:/usr/local/etc/redis</code>：挂载redis配置目录</li><li><code>-v /docker/redis7/data:/data</code>：挂载redis数据目录</li></ul><p>可选，设置自动重启</p><p><code>docker update redis7 --restart=always</code></p><p>3.启动容器</p><p><code>docker start redis7</code></p><p>4.进入容器</p><p><code>docker exec -it redis7 redis-cli</code></p><p>在Host机中连接</p><p><code>redis-cli -h 127.0.0.1 -p 6379</code></p><h2 id="安装redisinsight" tabindex="-1"><a class="header-anchor" href="#安装redisinsight"><span>安装RedisInsight</span></a></h2><p>https://redis.com/redis-enterprise/redis-insight/</p><h2 id="管理redis服务" tabindex="-1"><a class="header-anchor" href="#管理redis服务"><span>管理Redis服务</span></a></h2><p>查看Redis服务状态</p><p><code>sudo systemctl status redis-server</code></p><p>启动Redis服务</p><p><code>sudo systemctl start redis-server</code></p><p>停止Redis服务</p><p><code>sudo systemctl stop redis-server</code></p><h2 id="连接redis" tabindex="-1"><a class="header-anchor" href="#连接redis"><span>连接Redis</span></a></h2><p>使用redis-cli，或者使用RedisInsight图形界面工具</p><p><code>redis-cli</code></p><p><code>redis-cli -h &lt;hostname&gt; -p &lt;port&gt; -a &lt;password&gt;</code></p><h3 id="开启远程连接" tabindex="-1"><a class="header-anchor" href="#开启远程连接"><span>开启远程连接</span></a></h3><blockquote><p>确保Redis所在Host服务器可以被，且防火墙放开6379端口</p></blockquote><p>修改配置文件*/etc/redis.conf* ，有2种方式允许远程连接：</p><ol><li><p>关闭保护模式</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span># bind 127.0.0.1 -::1</span></span>
<span class="line"><span>protected-mode no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>开启保护模式，并设置密码</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span># bind 127.0.0.1 -::1</span></span>
<span class="line"><span>protected-mode yes</span></span>
<span class="line"><span>requirepass foobared</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,51)]))}const r=e(d,[["render",p],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/notes/database/8rhh5i1u/","title":"Redis环境搭建","lang":"zh-CN","frontmatter":{"title":"Redis环境搭建","createTime":"2024/11/24 15:56:14","permalink":"/notes/database/8rhh5i1u/"},"headers":[],"readingTime":{"minutes":1.6,"words":479},"git":{},"filePathRelative":"notes/database/6.redis/1.Redis环境搭建.md","bulletin":false}');export{r as comp,c as data};

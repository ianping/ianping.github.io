import{_ as i,c as n,b as a,o as e}from"./app-DsGHT65_.js";const l="/assets/20241207203320-D2X0q0HP.png",p={};function t(d,s){return e(),n("div",null,s[0]||(s[0]=[a(`<p>参考：https://min.io/docs/minio/container/operations/installation.html</p><h2 id="docker单节点单磁盘部署" tabindex="-1"><a class="header-anchor" href="#docker单节点单磁盘部署"><span>Docker单节点单磁盘部署</span></a></h2><p>1.拉取镜像</p><p><code>docker pull quay.io/minio/minio:RELEASE.2024-01-28T22-35-53Z</code></p><p>使用docker标签给minio镜像设置一个简短的别名</p><p><code>docker tag quay.io/minio/minio:RELEASE.2024-01-28T22-35-53Z minio:2024</code></p><p><code>docker rmi quay.io/minio/minio:RELEASE.2024-01-28T22-35-53Z</code></p><p>2.创建一个minio环境变量文件</p><p><code>vim /docker/minio/config.env</code></p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span># MINIO_ROOT_USER and MINIO_ROOT_PASSWORD sets the root account for the MinIO server.</span></span>
<span class="line"><span># This user has unrestricted permissions to perform S3 and administrative API operations on any resource in the deployment.</span></span>
<span class="line"><span># Omit to use the default values &#39;minioadmin:minioadmin&#39;.</span></span>
<span class="line"><span># MinIO recommends setting non-default values as a best practice, regardless of environment</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 用户名,至少3个字符</span></span>
<span class="line"><span>MINIO_ROOT_USER=minioadmin</span></span>
<span class="line"><span># 密码,至少8个字符</span></span>
<span class="line"><span>MINIO_ROOT_PASSWORD=minioadmin</span></span>
<span class="line"><span></span></span>
<span class="line"><span># MINIO_VOLUMES sets the storage volume or path to use for the MinIO server.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>MINIO_VOLUMES=&quot;/docker/minio/data&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># MINIO_OPTS sets any additional commandline options to pass to the MinIO server.</span></span>
<span class="line"><span># For example, \`--console-address :9001\` sets the MinIO Console listen port</span></span>
<span class="line"><span>MINIO_OPTS=&quot;--console-address :9001&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.创建镜像</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">                                   \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">  -p</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> 9000:9000</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> 9001:9001</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">                     \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">  -v</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /docker/minio/data:/mnt/data</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">               \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">  -v</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /docker/minio/config.env:/etc/config.env</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">   \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">MINIO_CONFIG_ENV_FILE=/etc/config.env</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">    \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">  --name</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">minio</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">                                \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">  minio:2024</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> server</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> --console-address</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">:9001</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可选，设置minio容器自动重启</p><p><code>docker update minio --restart=always</code></p><p>3.启动容器</p><p><code>docker start minio</code></p><p>4.验证启动</p><p><code>docker logs minio</code></p><p>MinIO控制台URL：http://IP:9001/</p><p>MinIO API URL: http://IP:9000</p><p><img src="`+l+`" alt=""></p><h2 id="docker单节点多磁盘部署" tabindex="-1"><a class="header-anchor" href="#docker单节点多磁盘部署"><span>Docker单节点多磁盘部署</span></a></h2><h2 id="dcoker多节点多磁盘部署" tabindex="-1"><a class="header-anchor" href="#dcoker多节点多磁盘部署"><span>Dcoker多节点多磁盘部署</span></a></h2><h2 id="minio客户端" tabindex="-1"><a class="header-anchor" href="#minio客户端"><span>MinIO客户端</span></a></h2><p>https://min.io/docs/minio/linux/reference/minio-mc.html#mc-install</p><p>可以选择在Docker Host上单独安装MinIO客户端工具mc。</p><p>Linux：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> https://dl.min.io/client/mc/release/linux-amd64/mc</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">   --create-dirs</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;">   -o</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /docker/minio/bin/mc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;"> /docker/minio/bin/mc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">$PATH:/docker/minio/bin/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB6B;">mc</span><span style="--shiki-light:#005CC5;--shiki-dark:#C3E88D;"> --help</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,28)]))}const h=i(p,[["render",t],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/notes/middleware/8vrlrj1m/","title":"MinIO安装部署","lang":"zh-CN","frontmatter":{"title":"MinIO安装部署","createTime":"2024/11/24 15:56:15","permalink":"/notes/middleware/8vrlrj1m/"},"headers":[],"readingTime":{"minutes":1.15,"words":346},"git":{},"filePathRelative":"notes/middleware/minio/1.MinIO安装部署.md","bulletin":false}');export{h as comp,c as data};

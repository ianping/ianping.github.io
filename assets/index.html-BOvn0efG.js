import{_ as i,c as a,b as e,o as l}from"./app-DsGHT65_.js";const n={};function t(h,s){return l(),a("div",null,s[0]||(s[0]=[e(`<p>学习资料：</p><ul><li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/" target="_blank" rel="noopener noreferrer">Oracle官网</a></li></ul><h2 id="oracle逻辑架构" tabindex="-1"><a class="header-anchor" href="#oracle逻辑架构"><span>Oracle逻辑架构</span></a></h2><p><strong>数据库</strong>：数据库是物理上存储数据的仓库，由一组相关的数据文件、控制文件、日志文件、参数文件等物理文件组成。</p><p><strong>实例</strong>：实例是Oracle数据库系统的一个运行环境，是在物理服务器上运行的一个进程，例如orcl。</p><p><strong>表空间</strong>：表空间（模式）是一组逻辑结构或对象的集合，这些对象包括表、视图、索引、序列、存储过程、函数等。</p><p>一个数据库可以拥有多个实例、一个实例可以拥有多个表空间。</p><h2 id="oracle管理员需要掌握的相关操作" tabindex="-1"><a class="header-anchor" href="#oracle管理员需要掌握的相关操作"><span>Oracle管理员需要掌握的相关操作</span></a></h2><h3 id="服务管理" tabindex="-1"><a class="header-anchor" href="#服务管理"><span>服务管理</span></a></h3><p>查看实例监听器状态</p><p><code>lsnrclt status</code></p><h3 id="sqlplus" tabindex="-1"><a class="header-anchor" href="#sqlplus"><span>sqlplus</span></a></h3><p>sqlplus登录Oracle服务器</p><p><code>sqlplus &lt;username&gt;/&lt;password&gt;</code></p><p>以管理员身份登录</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span>root@f08ef4931416:/# sqlplus /nolog</span></span>
<span class="line"><span></span></span>
<span class="line"><span>SQL*Plus: Release 12.1.0.2.0 Production on Sun May 19 11:38:49 2024</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Copyright (c) 1982, 2014, Oracle.  All rights reserved.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>SQL&gt; connect sys as sysdba</span></span>
<span class="line"><span>Enter password:</span></span>
<span class="line"><span>Connected.</span></span>
<span class="line"><span>SQL&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库实例管理" tabindex="-1"><a class="header-anchor" href="#数据库实例管理"><span>数据库实例管理</span></a></h3><h3 id="表空间管理" tabindex="-1"><a class="header-anchor" href="#表空间管理"><span>表空间管理</span></a></h3><p>查看所有表空间</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> DBA_TABLESPACES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建临时表空间</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> TEMPORARY TABLESPACE temp_default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">TEMPFILE </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">/u01/app/oracle/oradata/xe/temp_default.dbf</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;"> -- 数据文件路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SIZE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> 10M </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 初始大小</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">AUTOEXTEND </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> 10M MAXSIZE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">UNLIMITED</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 开启自动扩展大小, 每次扩展10M, 最大大小无限制</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建物理表空间</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> TABLESPACE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">&quot;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">DATAFILE </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">/u01/app/oracle/oradata/xe/default.dbf</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SIZE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> 100M  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">AUTOEXTEND </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> 10M MAXSIZE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">UNLIMITED</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">LOGGING  </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 对表空间中所有段的更改都将被记录在重做日志中</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">EXTENT MANAGEMENT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LOCAL</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">  -- 表空间使用本地扩展管理</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">SEGMENT SPACE MANAGEMENT </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AUTO</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">; </span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 启用自动段空间管理</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建用户，并设置默认表空间和默认临时表空间</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> USER</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> test</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> TABLESPACE </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">TEMPORARY TABLESPACE temp_default;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>给用户授权</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> CONNECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">RESOURCE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,DBA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> test;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>删除表空间</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">SPACE </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">test</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> INCLUDING CONTENTS </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AND</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> DATAFILES CASCADE CONSTRAINTS;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="用户权限管理" tabindex="-1"><a class="header-anchor" href="#用户权限管理"><span>用户权限管理</span></a></h3><p>查看所有用户</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> dba_users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>新建用户</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> USER</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> test;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>删除用户</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> USER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> test CASCADE;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>给用户设置角色，Oracle用户分为3种角色：</p><ul><li>CONNECT，连接</li><li>RESOURCE，资源</li><li>DBA，管理员</li></ul><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">GRANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> CONNECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">RESOURCE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,DBA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">TO</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> test;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="oracle数据类型" tabindex="-1"><a class="header-anchor" href="#oracle数据类型"><span>Oracle数据类型</span></a></h2><p>参考Oracle官方文档：<a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/cncpt/tables-and-table-clusters.html#GUID-A8F3420D-093C-449F-87E4-6C3DDFA8BCFF" target="_blank" rel="noopener noreferrer">Oracle Data Types</a></p><ul><li><p>字符类型：<code>CHAR</code>、<code>VARCHAR2</code>、<code>NCHAR</code>、<code>NVARCHAR2</code></p></li><li><p>数字类型：<code>NUMBER</code>、<code>BINARY_FLOAT</code>、<code>BINARY_DOUBLE</code></p></li><li><p>日期类型：<code>DATE</code>、<code>TIMESTAMP</code></p></li><li><p><code>ROWID</code></p></li></ul><h2 id="oracle内置函数" tabindex="-1"><a class="header-anchor" href="#oracle内置函数"><span>Oracle内置函数</span></a></h2><h3 id="类型转换函数" tabindex="-1"><a class="header-anchor" href="#类型转换函数"><span>类型转换函数</span></a></h3><p><code>TO_CHAR</code></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> TO_CHAR(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C792EA;">SYSDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">YYYY-MM-DD HH:MI:SS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> DUAL;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>TO_DATE</code></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> TO_DATE(</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">2024-05-25 04:10:38</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">YYYY-MM-DD HH:MI:SS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">NOW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> DUAL;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,49)]))}const d=i(n,[["render",t],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/notes/database/irxnl9ai/","title":"Oracle基础","lang":"zh-CN","frontmatter":{"title":"Oracle基础","createTime":"2024/11/24 15:56:14","permalink":"/notes/database/irxnl9ai/"},"headers":[],"readingTime":{"minutes":2.08,"words":624},"git":{"updatedTime":1733057441000,"contributors":[{"name":"ianping","email":"13520322212@163.com","commits":2,"avatar":"https://avatars.githubusercontent.com/ianping?v=4","url":"https://github.com/ianping"}]},"filePathRelative":"notes/database/4.oracle/Oracle基础.md","bulletin":false}');export{d as comp,r as data};
